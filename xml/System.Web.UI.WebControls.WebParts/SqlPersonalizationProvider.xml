<Type Name="SqlPersonalizationProvider" FullName="System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider">
  <Metadata><Meta Name="ms.openlocfilehash" Value="0506fbb3b230e6b07ecfafe6d66d9301201b3e25" /><Meta Name="ms.sourcegitcommit" Value="c5fd6b431a16f0412349201a0e93a9eacddf4b35" /><Meta Name="ms.translationtype" Value="MT" /><Meta Name="ms.contentlocale" Value="ru-RU" /><Meta Name="ms.lasthandoff" Value="12/14/2018" /><Meta Name="ms.locfileid" Value="53393944" /></Metadata><TypeSignature Language="C#" Value="public class SqlPersonalizationProvider : System.Web.UI.WebControls.WebParts.PersonalizationProvider" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi beforefieldinit SqlPersonalizationProvider extends System.Web.UI.WebControls.WebParts.PersonalizationProvider" />
  <TypeSignature Language="DocId" Value="T:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider" />
  <TypeSignature Language="VB.NET" Value="Public Class SqlPersonalizationProvider&#xA;Inherits PersonalizationProvider" />
  <TypeSignature Language="C++ CLI" Value="public ref class SqlPersonalizationProvider : System::Web::UI::WebControls::WebParts::PersonalizationProvider" />
  <TypeSignature Language="F#" Value="type SqlPersonalizationProvider = class&#xA;    inherit PersonalizationProvider" />
  <AssemblyInfo>
    <AssemblyName>System.Web</AssemblyName>
    <AssemblyVersion>2.0.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Web.UI.WebControls.WebParts.PersonalizationProvider</BaseTypeName>
  </Base>
  <Interfaces />
  <Docs>
    <summary>Реализует поставщик личной настройки, который использует сервер Microsoft SQL Server.</summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Этот класс определяет требуемую функциональность для поставщика личной настройки, с помощью Microsoft SQL Server. Поставщик персонализации загружает и хранит данные персонализации, от имени <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> экземпляра. Этот класс реализует логику для чтения и записи к компьютерам под управлением SQL Server, а также реализует все абстрактные методы, определенные в <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider>. Дополнительные сведения о поставщиках персонализации, см. в разделе <xref:System.Web.UI.WebControls.WebParts.PersonalizationProvider>.  
  
 Структуры данных для персонализации веб-частей с SQL Server зависит от существования двух распространенных таблиц базы данных SQL, и поддерживающие их хранимые процедуры, которые являются общими для большинства реализаций функций на основе SQL. Эти таблицы и представления можно установить и удалить с помощью следующих скриптов:  
  
-   installpagepersonalization.SQL - устанавливает персонализации таблиц, представлений и связанных хранимых процедур.  
  
-   uninstallpagepersonalization.SQL - удаляет персонализации таблиц, представлений и связанных хранимых процедур.  
  
 Это важно помнить, что персонализации завершится ошибкой, если веб-приложение не выполняется у доверия по умолчанию уровень <xref:System.Web.AspNetHostingPermissionLevel.Medium> или более поздней версии (можно задать пользовательский уровень доверия в файле Web.config с помощью `<trust level="" />` элемент). <xref:System.Web.UI.WebControls.WebParts.PersonalizationAdministration> И <xref:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider> оба класса Проверьте уровень доверия <xref:System.Web.AspNetHostingPermissionLevel.Low> при инициализации. При настройке приложения для запуска в отношение доверия с уровнем <xref:System.Web.AspNetHostingPermissionLevel.Low>, и по умолчанию <xref:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider> поставщика для управления данными персонализации для вашего приложения, при первом приложение пытается получить доступ к данным персонализации, он будет сбой, так как рабочий процесс ASP.NET, работающих в <xref:System.Web.AspNetHostingPermissionLevel.Low> доверия не имеет разрешения, необходимые для вызова различных классов в <xref:System.Data.SqlClient> пространства имен.  
  
 ]]></format>
    </remarks>
    <altmember cref="T:System.Web.UI.WebControls.WebParts.PersonalizationProvider" />
    <related type="Article" href="https://msdn.microsoft.com/library/ab78a66e-9feb-4391-b3c3-8c07555e2308">Страницы ASP.NET веб-частей</related>
    <related type="Article" href="https://msdn.microsoft.com/library/7dc34f74-52aa-4082-b98d-2bcf9e07e320">Общие сведения о персонализации частях Web</related>
    <related type="Article" href="https://msdn.microsoft.com/library/a88d2bd5-4932-4ec1-b176-7d7da45f85d9">Пошаговое руководство. Реализации персонализации веб-частей, пользовательскими элементами управления</related>
    <related type="Article" href="https://msdn.microsoft.com/library/7885563f-7bbe-45a0-b5e2-c6bf1bc2deaa">Персонализация веб-частей</related>
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public SqlPersonalizationProvider ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.#ctor" />
      <MemberSignature Language="VB.NET" Value="Public Sub New ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; SqlPersonalizationProvider();" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute FrameworkAlternate="netframework-4.0">
          <AttributeName>System.Runtime.TargetedPatchingOptOut("Performance critical to inline this type of method across NGen image boundaries")</AttributeName>
        </Attribute>
      </Attributes>
      <Parameters />
      <Docs>
        <summary>Инициализирует новый экземпляр класса <see cref="T:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider" />.</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.%23ctor%2A> Конструктор вызывается ASP.NET, чтобы создать экземпляр <xref:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider> класса, как указано в конфигурации для приложения. Этот конструктор не предназначен для использования в коде.  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ApplicationName">
      <MemberSignature Language="C#" Value="public override string ApplicationName { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string ApplicationName" />
      <MemberSignature Language="DocId" Value="P:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ApplicationName" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Property ApplicationName As String" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; virtual property System::String ^ ApplicationName { System::String ^ get(); void set(System::String ^ value); };" />
      <MemberSignature Language="F#" Value="member this.ApplicationName : string with get, set" Usage="System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ApplicationName" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>Получает или задает имя приложения, для которого необходимо сохранять и извлекать данные персонализации.</summary>
        <value>Имя приложения, для которого необходимо сохранять и извлекать данные персонализации. По умолчанию установлено значение свойства <see cref="P:System.Web.Hosting.HostingEnvironment.ApplicationVirtualPath" /> для текущего свойства <see cref="P:System.Web.HttpContext.Request" />.</value>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ApplicationName%2A> Используется объектами <xref:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider> класс для группирования сведений пользователя. Уточнение информации пользователя с именем приложения, можно хранить сведения для нескольких приложений в одной базе данных без конфликтов между идентичными именами пользователей. Кроме того, несколько приложений ASP.NET можно использовать одну и ту же базу данных пользователя, указав то же значение в <xref:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ApplicationName%2A> свойство. <xref:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ApplicationName%2A> Свойства могут устанавливаться программными средствами, или его можно задать декларативно в файле конфигурации для веб-приложения с помощью `applicationName` атрибут в `<providers>` разделе.  
  
 Если значение не указано для `applicationName` атрибут в файле конфигурации веб-приложения, а затем <xref:System.Web.Hosting.HostingEnvironment.ApplicationVirtualPath%2A> используется значение свойства для первого запроса приложения.  
  
> [!CAUTION]
>  Поскольку экземпляр поставщика персонализации единый по умолчанию используется для всех запросов, обслуживаемых <xref:System.Web.HttpApplication> объекта, может иметь несколько запросов, параллельное выполнение и попытка задать <xref:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ApplicationName%2A> значение свойства. <xref:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ApplicationName%2A> Свойство не является поточно ориентированные для нескольких операций записи и изменив <xref:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ApplicationName%2A> значение свойства может привести к непредвиденному поведению для нескольких пользователей приложения. Рекомендуется избегать код, чтобы разрешить пользователям устанавливать <xref:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ApplicationName%2A> свойство Если это не требуется. Пример приложения там, где параметр <xref:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ApplicationName%2A> свойства могут быть необходимы, — это административное приложение, которая управляет данными персонализации для нескольких приложений. Такое приложение следует Однопользовательское приложение, а не веб-приложения.  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.Configuration.Provider.ProviderException">В качестве значения для этого свойства задана строка, длина которой превышает 256 символов.</exception>
      </Docs>
    </Member>
    <Member MemberName="FindState">
      <MemberSignature Language="C#" Value="public override System.Web.UI.WebControls.WebParts.PersonalizationStateInfoCollection FindState (System.Web.UI.WebControls.WebParts.PersonalizationScope scope, System.Web.UI.WebControls.WebParts.PersonalizationStateQuery query, int pageIndex, int pageSize, out int totalRecords);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance class System.Web.UI.WebControls.WebParts.PersonalizationStateInfoCollection FindState(valuetype System.Web.UI.WebControls.WebParts.PersonalizationScope scope, class System.Web.UI.WebControls.WebParts.PersonalizationStateQuery query, int32 pageIndex, int32 pageSize, [out] int32&amp; totalRecords) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.FindState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.Web.UI.WebControls.WebParts.PersonalizationStateQuery,System.Int32,System.Int32,System.Int32@)" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Function FindState (scope As PersonalizationScope, query As PersonalizationStateQuery, pageIndex As Integer, pageSize As Integer, ByRef totalRecords As Integer) As PersonalizationStateInfoCollection" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override System::Web::UI::WebControls::WebParts::PersonalizationStateInfoCollection ^ FindState(System::Web::UI::WebControls::WebParts::PersonalizationScope scope, System::Web::UI::WebControls::WebParts::PersonalizationStateQuery ^ query, int pageIndex, int pageSize, [Runtime::InteropServices::Out] int % totalRecords);" />
      <MemberSignature Language="F#" Value="override this.FindState : System.Web.UI.WebControls.WebParts.PersonalizationScope * System.Web.UI.WebControls.WebParts.PersonalizationStateQuery * int * int *  -&gt; System.Web.UI.WebControls.WebParts.PersonalizationStateInfoCollection" Usage="sqlPersonalizationProvider.FindState (scope, query, pageIndex, pageSize, totalRecords)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Web.UI.WebControls.WebParts.PersonalizationStateInfoCollection</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="scope" Type="System.Web.UI.WebControls.WebParts.PersonalizationScope" />
        <Parameter Name="query" Type="System.Web.UI.WebControls.WebParts.PersonalizationStateQuery" />
        <Parameter Name="pageIndex" Type="System.Int32" />
        <Parameter Name="pageSize" Type="System.Int32" />
        <Parameter Name="totalRecords" Type="System.Int32" RefType="out" />
      </Parameters>
      <Docs>
        <param name="scope">Область <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationScope" />, указывающая, какие сведения о личных настройках необходимо запросить. Это значение не может быть равно <see langword="null" />.</param>
        <param name="query">Объект <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery" />, содержащий запрос. Это значение может быть равно <see langword="null" />.</param>
        <param name="pageIndex">Место, где начинается выполнение запроса.</param>
        <param name="pageSize">Число возвращаемых записей.</param>
        <param name="totalRecords">Общее число доступных записей.</param>
        <summary>Возвращает коллекцию, в которой содержится ноль или несколько объектов, созданных на основе <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationStateInfo" /> с учетом указанных области и параметров.</summary>
        <returns>Объект <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationStateInfoCollection" />, содержащий объекты, производные от <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationStateInfo" />.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Набор возвращаемых элементов ограничен `pageSize` и `pageIndex` параметров, где `pageSize` определяет количество возвращаемых записей и `pageIndex` определяет, какие записи для возврата. Например `pageIndex` 0 и `pageSize` 25 возвращает первые 25 вхождений, хотя `pageIndex` 1 и `pageSize` 25 возвратит вхождений 26 до 50. Если вы хотите получить все доступные записи, задайте `pageIndex` 0, и `pageSize` для <xref:System.Int32.MaxValue>.  
  
 <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateInfo>-Производных объектов возвращаются в алфавитном порядке по <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateInfo.Path%2A> и <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.Username%2A>, оба в порядке возрастания.  
  
 Этот метод передает символы-шаблоны запросов в базовом хранилище данных. Поддержка подстановочных знаков определяется в настоящее время как каждый поставщик обрабатывает символы, например звездочку (*), символ процента (%) или символ подчеркивания (_).  
  
 Как правило, для хранилища данных SQL-совместимым, можно выполнить поиск с подстановочными символами на частичный путь с символом-шаблоном, которые появятся в начале, конечную или середины текст для поиска строки в <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> свойство. Например, чтобы найти все пути, начинающиеся с "\~/approot», <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> свойство будет иметь значение"\~/approot%».  
  
 Аналогичным образом, поиск с подстановочными символами на имя частичного пользователя может иметь подстановочный знак отображаться в любом месте текстовой строки <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> свойство. Например, чтобы найти все имена пользователей, которые начинаются с «Иван» <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> параметр выглядит следующим образом «Джон %».  
  
 Действуют следующие ограничения запроса.  
  
-   Если только `scope` предоставляется, и `query` — `null` или все свойства в `query` возвращать `null` или значения по умолчанию, то все записи, соответствующие указанному `scope` параметра возвращаются.  
  
-   Если <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> свойство не `null`, возвращаемых записей также являются отфильтрованный на основе путей, которые соответствуют <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> значение свойства.  
  
-   Если <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> свойство не `null`, возвращаемых записей также являются имена отфильтрованный на основе пользователя, которые соответствуют <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> значение свойства.  
  
-   Если <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> свойства не равно <xref:System.DateTime.MaxValue>, а затем также возвращаемые записи фильтруются для возвращения только те записи, связанных с неактивными пользователями. Сравнение включает записи где <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A> меньшим или равным <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> свойство.  
  
 Обратите внимание на то, что этот метод не проверяет сочетания параметров запроса. Например код может запросить набор записей состояния персонализации, связанные с определенным именем пользователя в общей области. Так как имена пользователей не связаны с общими данными, возвращаемая коллекция будет пустой.  
  
 Перечислены сочетания параметров, которые потенциально могут возвращать непустую коллекцию.  
  
-   <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> область, в сочетании с <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>.  
  
-   <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> область, в сочетании со значениями для одного или всех <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>, <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A>, и <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> свойства.  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException">Значение параметра <paramref name="pageIndex" /> меньше нуля.  
  
-или- 
 Значение <paramref name="pageSize" /> меньше или равно нулю.  
  
- или - 
Сумма <paramref name="pageIndex" /> и <paramref name="pageSize" /> больше, чем значение <see cref="F:System.Int32.MaxValue" />.  
  
-или- 
 Значение параметра <see cref="P:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch" /> не равно <see langword="null" /> и является пустой строкой ("") после усечения.  
  
-или- 
Длина параметра <see cref="P:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch" /> превышает 256 символов, в то время как значение не равно <see langword="null" />.  
  
-или- 
 Значение параметра <see cref="P:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch" /> не равно <see langword="null" /> и является пустой строкой после усечения.  
  
- или - 
Длина параметра <see cref="P:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch" /> превышает 256 символов, в то время как значение не равно <see langword="null" />.</exception>
        <exception cref="T:System.ArgumentOutOfRangeException">Указанное значение <paramref name="scope" /> не является допустимым значением перечисления <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationScope" />.</exception>
      </Docs>
    </Member>
    <Member MemberName="GetCountOfState">
      <MemberSignature Language="C#" Value="public override int GetCountOfState (System.Web.UI.WebControls.WebParts.PersonalizationScope scope, System.Web.UI.WebControls.WebParts.PersonalizationStateQuery query);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance int32 GetCountOfState(valuetype System.Web.UI.WebControls.WebParts.PersonalizationScope scope, class System.Web.UI.WebControls.WebParts.PersonalizationStateQuery query) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.GetCountOfState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.Web.UI.WebControls.WebParts.PersonalizationStateQuery)" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Function GetCountOfState (scope As PersonalizationScope, query As PersonalizationStateQuery) As Integer" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override int GetCountOfState(System::Web::UI::WebControls::WebParts::PersonalizationScope scope, System::Web::UI::WebControls::WebParts::PersonalizationStateQuery ^ query);" />
      <MemberSignature Language="F#" Value="override this.GetCountOfState : System.Web.UI.WebControls.WebParts.PersonalizationScope * System.Web.UI.WebControls.WebParts.PersonalizationStateQuery -&gt; int" Usage="sqlPersonalizationProvider.GetCountOfState (scope, query)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Int32</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="scope" Type="System.Web.UI.WebControls.WebParts.PersonalizationScope" />
        <Parameter Name="query" Type="System.Web.UI.WebControls.WebParts.PersonalizationStateQuery" />
      </Parameters>
      <Docs>
        <param name="scope">Область <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationScope" />, указывающая, какие сведения о личных настройках необходимо запросить. Это значение не может быть равно <see langword="null" />.</param>
        <param name="query">Объект <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery" />, содержащий запрос. Это значение может быть равно <see langword="null" />.</param>
        <summary>Возвращает количество строк в основном хранилище данных на основе указанного параметра <paramref name="scope" />.</summary>
        <returns>Количество строк в базовом хранилище данных, которые существуют для заданного параметра <paramref name="scope" />.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Этот метод передает символы-шаблоны запросов в базовом хранилище данных. Поддержка подстановочных знаков определяется в настоящее время как каждый поставщик обрабатывает символы, например звездочку (*), символ процента (%) или символ подчеркивания (_).  
  
 Как правило, для хранилища данных SQL-совместимым, можно выполнить поиск с подстановочными символами на частичный путь с символом-шаблоном, которые появятся в начале, конечную или середины текст для поиска строки в <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> свойство. Например, чтобы найти все пути, начинающиеся с "\~/approot», <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> свойство будет иметь значение"\~/approot%».  
  
 Аналогичным образом, поиск с подстановочными символами на имя частичного пользователя может иметь подстановочный знак отображаться в любом месте текстовой строки <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> свойство. Например, чтобы найти все имена пользователей, которые начинаются с «Иван» <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> параметр выглядит следующим образом «Джон %».  
  
 Действуют следующие ограничения запроса.  
  
-   Если только `scope` предоставляется, и `query` — `null` или все свойства в `query` возвращать `null` или значения по умолчанию, то все записи, соответствующие указанному `scope` параметра возвращаются.  
  
-   Если <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> свойство не `null`, возвращаемых записей также являются отфильтрованный на основе путей, которые соответствуют <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A> значение свойства.  
  
-   Если <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> не `null`, возвращаемых записей также являются имена отфильтрованный на основе пользователя, которые соответствуют <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A> значение свойства.  
  
-   Если <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> свойства не равно <xref:System.DateTime.MaxValue>, а затем также возвращаемые записи фильтруются для возвращения только те записи, связанных с неактивными пользователями. Сравнение включает записи где <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A> меньшим или равным <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> свойство.  
  
 Обратите внимание на то, что этот метод не проверяет сочетания параметров запроса. Например код может запросить число записей состояния, связанных с неактивными пользователями в общей области. Так как отсутствует понятие неактивные настроек, количество возвращаемых результатов будет ноль.  
  
 Перечислены сочетания параметров, которые потенциально могут возвращать непустую коллекцию.  
  
-   <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> область, в сочетании с <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>.  
  
-   <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> область, в сочетании со значениями для одного или всех <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch%2A>, <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch%2A>, и <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> свойства.  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException">Значение параметра <see cref="P:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch" /> не равно <see langword="null" /> и является пустой строкой ("") после усечения.  
  
-или- 
Длина параметра <see cref="P:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.PathToMatch" /> превышает 256 символов, в то время как значение не равно <see langword="null" />.  
  
-или- 
 Значение параметра <see cref="P:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch" /> не равно <see langword="null" /> и является пустой строкой после усечения.  
  
- или - 
Длина параметра <see cref="P:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UsernameToMatch" /> превышает 256 символов, в то время как значение не равно <see langword="null" />.</exception>
        <exception cref="T:System.ArgumentOutOfRangeException">Указанное значение <paramref name="scope" /> не является допустимым значением перечисления <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationScope" />.</exception>
      </Docs>
    </Member>
    <Member MemberName="Initialize">
      <MemberSignature Language="C#" Value="public override void Initialize (string name, System.Collections.Specialized.NameValueCollection configSettings);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance void Initialize(string name, class System.Collections.Specialized.NameValueCollection configSettings) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.Initialize(System.String,System.Collections.Specialized.NameValueCollection)" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Sub Initialize (name As String, configSettings As NameValueCollection)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override void Initialize(System::String ^ name, System::Collections::Specialized::NameValueCollection ^ configSettings);" />
      <MemberSignature Language="F#" Value="override this.Initialize : string * System.Collections.Specialized.NameValueCollection -&gt; unit" Usage="sqlPersonalizationProvider.Initialize (name, configSettings)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="name" Type="System.String" />
        <Parameter Name="configSettings" Type="System.Collections.Specialized.NameValueCollection" />
      </Parameters>
      <Docs>
        <param name="name">Имя приложения, отображаемое в файле конфигурации.</param>
        <param name="configSettings">Параметры конфигурации для приложения.</param>
        <summary>Реализует процедуры инициализации, которые требуются для поставщика личной настройки сервера Microsoft SQL Server. Этот метод не предназначен для непосредственного использования в коде.</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Этот метод предоставляет процедуры инициализации для использования персонализации с базой данных SQL и не предназначен для использования непосредственно из программного кода.  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.Configuration.Provider.ProviderException">Строка подключения не настроена для поставщика.  
  
-или- 
Строка подключения для поставщика не найдена.  
  
-или- 
Помимо атрибутов, описанных в параметрах конфигурации, в элементе <see langword="&lt;add&gt;" /> поставщика имеются дополнительные атрибуты.  
  
-или- 
Длина имени приложения превышает 256 символов.  
  
- или - 
Домен приложений, в котором находится приложение, работает при уровне доверия ниже <see cref="F:System.Web.AspNetHostingPermissionLevel.Medium" />.</exception>
        <exception cref="T:System.ArgumentNullException">Свойство <paramref name="configSettings" /> имеет значение <see langword="null" />.</exception>
      </Docs>
    </Member>
    <Member MemberName="LoadPersonalizationBlobs">
      <MemberSignature Language="C#" Value="protected override void LoadPersonalizationBlobs (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName, ref byte[] sharedDataBlob, ref byte[] userDataBlob);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig virtual instance void LoadPersonalizationBlobs(class System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName, unsigned int8[]&amp; sharedDataBlob, unsigned int8[]&amp; userDataBlob) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.LoadPersonalizationBlobs(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[]@,System.Byte[]@)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; override void LoadPersonalizationBlobs(System::Web::UI::WebControls::WebParts::WebPartManager ^ webPartManager, System::String ^ path, System::String ^ userName, cli::array &lt;System::Byte&gt; ^ % sharedDataBlob, cli::array &lt;System::Byte&gt; ^ % userDataBlob);" />
      <MemberSignature Language="F#" Value="override this.LoadPersonalizationBlobs : System.Web.UI.WebControls.WebParts.WebPartManager * string * string *  *  -&gt; unit" Usage="sqlPersonalizationProvider.LoadPersonalizationBlobs (webPartManager, path, userName, sharedDataBlob, userDataBlob)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPartManager" Type="System.Web.UI.WebControls.WebParts.WebPartManager" />
        <Parameter Name="path" Type="System.String" />
        <Parameter Name="userName" Type="System.String" />
        <Parameter Name="sharedDataBlob" Type="System.Byte[]" RefType="ref" />
        <Parameter Name="userDataBlob" Type="System.Byte[]" RefType="ref" />
      </Parameters>
      <Docs>
        <param name="webPartManager">Объект <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" />, управляющий данными персонализации.</param>
        <param name="path">Путь для сведений персонализации в области <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared" />, который необходимо использовать в качестве ключа для извлечения.</param>
        <param name="userName">Имя пользователя для сведений персонализации в области <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.User" />, которое необходимо использовать в качестве ключа для извлечения.</param>
        <param name="sharedDataBlob">Возвращаемые данные в области <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared" />.</param>
        <param name="userDataBlob">Возвращаемые данные в области <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.User" />.</param>
        <summary>Загружает данные персонализации из основного хранилища данных на основе указанных параметров.</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Этот метод использует `webPartManager`, `path`, и `username` параметры в качестве ключей получении. Содержит возвращаемые данные:  
  
-   <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> Данные, возвращаемые в `sharedDataBlob` параметра.  
  
-   В зависимости от значения ключей <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> данные возвращаются в `userDataBlob` параметра. Отличный от`null` значение `userName` параметр указывает, что <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> также извлекаются данные.  
  
 <xref:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider> Автоматически обновляет объект <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A> столбца в `aspnet_Users` таблицы данных конкретного пользователя персонализации каждого времени загружается из базы данных в контексте запроса страницы. Благодаря этому других функций ASP.NET для использования <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A> свойство при управлении устаревшие данные записывает также как определение Недавние действия пользователя на узле.  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ResetPersonalizationBlob">
      <MemberSignature Language="C#" Value="protected override void ResetPersonalizationBlob (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig virtual instance void ResetPersonalizationBlob(class System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ResetPersonalizationBlob(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String)" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; override void ResetPersonalizationBlob(System::Web::UI::WebControls::WebParts::WebPartManager ^ webPartManager, System::String ^ path, System::String ^ userName);" />
      <MemberSignature Language="F#" Value="override this.ResetPersonalizationBlob : System.Web.UI.WebControls.WebParts.WebPartManager * string * string -&gt; unit" Usage="sqlPersonalizationProvider.ResetPersonalizationBlob (webPartManager, path, userName)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPartManager" Type="System.Web.UI.WebControls.WebParts.WebPartManager" />
        <Parameter Name="path" Type="System.String" />
        <Parameter Name="userName" Type="System.String" />
      </Parameters>
      <Docs>
        <param name="webPartManager">Объект <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" />, управляющий данными персонализации.</param>
        <param name="path">Путь для сведений персонализации в области <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared" />, который необходимо использовать в качестве ключа для извлечения.</param>
        <param name="userName">Имя пользователя для сведений персонализации в области <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.User" />, которое необходимо использовать в качестве ключа для извлечения.</param>
        <summary>Удаляет данные персонализации из основного хранилища данных.</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.UI.WebControls.WebParts.WebPartPersonalization> Этот метод используется для удаления данных персонализации из базы данных, если веб-сайта пользователь выберет Сброс данных веб-частей на странице. Если `username` отличается от`null`, данных с помощью <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> данные области — удален; в противном случае — значение данных с помощью <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> область удаляется.  
  
 <xref:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider> Автоматически обновляет объект <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A> столбца в `aspnet_Users` таблицы данных конкретного пользователя персонализации каждого времени удаляется из базы данных в контексте запроса страницы. Благодаря этому других функций ASP.NET для использования <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A> значение при управлении устаревшие данные записей также как определение Недавние действия пользователя на узле.  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ResetState">
      <MemberSignature Language="C#" Value="public override int ResetState (System.Web.UI.WebControls.WebParts.PersonalizationScope scope, string[] paths, string[] usernames);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance int32 ResetState(valuetype System.Web.UI.WebControls.WebParts.PersonalizationScope scope, string[] paths, string[] usernames) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ResetState(System.Web.UI.WebControls.WebParts.PersonalizationScope,System.String[],System.String[])" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Function ResetState (scope As PersonalizationScope, paths As String(), usernames As String()) As Integer" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override int ResetState(System::Web::UI::WebControls::WebParts::PersonalizationScope scope, cli::array &lt;System::String ^&gt; ^ paths, cli::array &lt;System::String ^&gt; ^ usernames);" />
      <MemberSignature Language="F#" Value="override this.ResetState : System.Web.UI.WebControls.WebParts.PersonalizationScope * string[] * string[] -&gt; int" Usage="sqlPersonalizationProvider.ResetState (scope, paths, usernames)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Int32</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="scope" Type="System.Web.UI.WebControls.WebParts.PersonalizationScope" />
        <Parameter Name="paths" Type="System.String[]" />
        <Parameter Name="usernames" Type="System.String[]" />
      </Parameters>
      <Docs>
        <param name="scope">Область <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationScope" />, указывающая, какие сведения о личных настройках необходимо запросить. Это значение не может быть равно <see langword="null" />.</param>
        <param name="paths">Пути для сведений персонализации в области <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared" />, которые необходимо удалить.</param>
        <param name="usernames">Имена пользователей для сведений персонализации в области <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.User" />, которые необходимо удалить.</param>
        <summary>Удаляет сведения о состоянии персонализации из основного хранилища данных на основе указанных параметров.</summary>
        <returns>Число удаленных строк.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Этот метод поддерживает подстановочные знаки.  
  
 Допускаются только следующие сочетания параметров:  
  
-   `scope` Параметр имеет значение, а все остальные параметры задаются `null`. Это сочетание удаляет все данные персонализации веб-частей, связанные с областью персонализации, обозначается `scope`.  
  
-   `scope` Задан параметр и `paths` параметр содержит хотя бы одно значение. Это сочетание удаляет все данные персонализации веб-частей для указанного пути или пути, которые находятся в области персонализации, заданной параметром `scope`.  
  
-   `scope` Параметр имеет значение <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User>, `paths` параметр имеет значение и содержит только один путь и `usernames` параметр содержит хотя бы одно значение. Это сочетание удаляет все данные веб-частей для заданного пути, который связан с пользователем или пользователями, содержащихся в персонализации `usernames`.  
  
-   `scope` Параметр имеет значение <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User>, `paths` параметр `null`и `usernames` параметр содержит хотя бы одно значение. Это сочетание удаляет все данные веб-частей, персонализации пользователя для всех путей, связанных с пользователями, которые содержатся в `usernames`.  
  
 Другие сочетания значений параметров является недопустимым и вызовет <xref:System.ArgumentException> исключение. Например не допускаются следующие два сочетания:  
  
-   `usernames` Параметра не может быть обеспечено при `scope` параметр имеет значение <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared>.  
  
-   `paths` Параметр не может содержать более одной записи при `usernames` параметр не является `null`.  
  
 `paths` И `usernames` параметры, содержащиеся в соответствующих массивах должны соответствовать следующим правилам проверки. Если все правила проверки для любой член массивы параметров, <xref:System.ArgumentException> возникает исключение. Правила проверки включают:  
  
-   `null` значения не допускаются.  
  
-   Пустая строка ("») после усечения не допускается.  
  
-   Имена пользователей в `usernames` параметр может содержать запятые.  
  
-   Длину любого пути в `paths` параметра не может превышать 256 символов.  
  
-   Длина имени любого пользователя в `usernames` параметра не может превышать 256 символов.  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException">Либо параметр <paramref name="paths" />, либо параметр <paramref name="usernames" /> является пустым массивом.  
  
-или- 
Параметры <paramref name="paths" /> и <paramref name="usernames" />, которые содержатся в соответствующих массивах, не соответствуют условиям проверки.</exception>
        <exception cref="T:System.ArgumentOutOfRangeException">Указанное значение <paramref name="scope" /> не является членом перечисления <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationScope" />.</exception>
      </Docs>
    </Member>
    <Member MemberName="ResetUserState">
      <MemberSignature Language="C#" Value="public override int ResetUserState (string path, DateTime userInactiveSinceDate);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig virtual instance int32 ResetUserState(string path, valuetype System.DateTime userInactiveSinceDate) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.ResetUserState(System.String,System.DateTime)" />
      <MemberSignature Language="VB.NET" Value="Public Overrides Function ResetUserState (path As String, userInactiveSinceDate As DateTime) As Integer" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; override int ResetUserState(System::String ^ path, DateTime userInactiveSinceDate);" />
      <MemberSignature Language="F#" Value="override this.ResetUserState : string * DateTime -&gt; int" Usage="sqlPersonalizationProvider.ResetUserState (path, userInactiveSinceDate)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Int32</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="path" Type="System.String" />
        <Parameter Name="userInactiveSinceDate" Type="System.DateTime" />
      </Parameters>
      <Docs>
        <param name="path">Путь к удаляемым данным персонализации. Это значение может быть равно <see langword="null" />, но не может быть пустой строкой ("").</param>
        <param name="userInactiveSinceDate">Дата, когда выполнялись последние действия.</param>
        <summary>Удаляет пользовательские данные персонализации из основного хранилища данных на основе указанных параметров.</summary>
        <returns>Количество строк, удаленных из основного хранилища данных.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Параметрами этого метода имеют следующие ограничения:  
  
-   `path` Параметр не может содержать подстановочные знаки.  
  
-   Если `path` параметра отличается от`null`, затем связываются только записи персонализации пользователя с `path` будут удалены.  
  
-   Только записи пользовательской персонализации, связанные с пользователями, которые считаются неактивными с даты, указанной в `userInactiveSinceDate` параметра будут удалены. Для удаления записей будет точного сравнения где <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A> свойства меньше или равно `userInactiveSinceDate` параметр.  
  
-   Если указаны оба параметра, будут удалены записи, которые соответствуют оба ограничения.  
  
-   `path` Параметр может быть `null`.  
  
-   `path` Параметра не может быть пустой строкой после усечения.  
  
-   Свойство <xref:System.Web.UI.WebControls.WebParts.PersonalizationStateQuery.UserInactiveSinceDate%2A> не может быть равно `null`.  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentException">Параметр <paramref name="path" /> равен пустой строке.  
  
-или- 
Длина пути превышает 256 символов.</exception>
      </Docs>
    </Member>
    <Member MemberName="SavePersonalizationBlob">
      <MemberSignature Language="C#" Value="protected override void SavePersonalizationBlob (System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName, byte[] dataBlob);" />
      <MemberSignature Language="ILAsm" Value=".method familyhidebysig virtual instance void SavePersonalizationBlob(class System.Web.UI.WebControls.WebParts.WebPartManager webPartManager, string path, string userName, unsigned int8[] dataBlob) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider.SavePersonalizationBlob(System.Web.UI.WebControls.WebParts.WebPartManager,System.String,System.String,System.Byte[])" />
      <MemberSignature Language="C++ CLI" Value="protected:&#xA; override void SavePersonalizationBlob(System::Web::UI::WebControls::WebParts::WebPartManager ^ webPartManager, System::String ^ path, System::String ^ userName, cli::array &lt;System::Byte&gt; ^ dataBlob);" />
      <MemberSignature Language="F#" Value="override this.SavePersonalizationBlob : System.Web.UI.WebControls.WebParts.WebPartManager * string * string * byte[] -&gt; unit" Usage="sqlPersonalizationProvider.SavePersonalizationBlob (webPartManager, path, userName, dataBlob)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web</AssemblyName>
        <AssemblyVersion>2.0.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.Void</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="webPartManager" Type="System.Web.UI.WebControls.WebParts.WebPartManager" />
        <Parameter Name="path" Type="System.String" />
        <Parameter Name="userName" Type="System.String" />
        <Parameter Name="dataBlob" Type="System.Byte[]" />
      </Parameters>
      <Docs>
        <param name="webPartManager">Объект <see cref="T:System.Web.UI.WebControls.WebParts.WebPartManager" />, управляющий данными персонализации.</param>
        <param name="path">Область <see cref="T:System.Web.UI.WebControls.WebParts.PersonalizationScope" />, указывающая, какие сведения о личных настройках необходимо сохранить. Это значение не может быть равно <see langword="null" />.</param>
        <param name="userName">Имя пользователя для сведений персонализации в области <see cref="F:System.Web.UI.WebControls.WebParts.PersonalizationScope.User" />, которое необходимо использовать в качестве ключа.</param>
        <param name="dataBlob">Массив байт, представляющий сохраняемые данные.</param>
        <summary>Сохраняет необработанные данные персонализации в основной базе данных Microsoft SQL Server.</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Если не`null` предоставляется имя пользователя, то `dataBlob` параметр содержит данные персонализации для <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.User> область; в противном случае `dataBlob` предполагается, что содержит данные для <xref:System.Web.UI.WebControls.WebParts.PersonalizationScope.Shared> области.  
  
 <xref:System.Web.UI.WebControls.WebParts.SqlPersonalizationProvider> Автоматически обновляет объект <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A> столбца в `aspnet_Users` таблицы, каждая времени пользовательские данные персонализации сохраняются в базу данных в контексте запроса страницы. Благодаря этому других функций ASP.NET для использования <xref:System.Web.UI.WebControls.WebParts.UserPersonalizationStateInfo.LastActivityDate%2A> свойство при управлении устаревшие данные записывает также как определение Недавние действия пользователя на узле.  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
  </Members>
</Type>