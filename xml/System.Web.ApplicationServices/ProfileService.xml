<Type Name="ProfileService" FullName="System.Web.ApplicationServices.ProfileService">
  <Metadata><Meta Name="ms.openlocfilehash" Value="9a51e93ff540e5a6654fdf5ff785c0fae9284bf2" /><Meta Name="ms.sourcegitcommit" Value="756d085f27705e86604f1bba5f2086ee23761acf" /><Meta Name="ms.translationtype" Value="MT" /><Meta Name="ms.contentlocale" Value="ru-RU" /><Meta Name="ms.lasthandoff" Value="01/30/2019" /><Meta Name="ms.locfileid" Value="55313834" /></Metadata><TypeSignature Language="C#" Value="public class ProfileService" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi beforefieldinit ProfileService extends System.Object" />
  <TypeSignature Language="DocId" Value="T:System.Web.ApplicationServices.ProfileService" />
  <TypeSignature Language="VB.NET" Value="Public Class ProfileService" />
  <TypeSignature Language="C++ CLI" Value="public ref class ProfileService" />
  <TypeSignature Language="F#" Value="type ProfileService = class" />
  <AssemblyInfo>
    <AssemblyName>System.Web.Extensions</AssemblyName>
    <AssemblyVersion>3.5.0.0</AssemblyVersion>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Object</BaseTypeName>
  </Base>
  <Interfaces />
  <Attributes>
    <Attribute>
      <AttributeName>System.ServiceModel.Activation.AspNetCompatibilityRequirements(RequirementsMode=System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Required)</AttributeName>
    </Attribute>
    <Attribute>
      <AttributeName>System.ServiceModel.ServiceBehavior(ConcurrencyMode=System.ServiceModel.ConcurrencyMode.Multiple, InstanceContextMode=System.ServiceModel.InstanceContextMode.Single, Namespace="http://asp.net/ApplicationServices/v200")</AttributeName>
    </Attribute>
    <Attribute>
      <AttributeName>System.ServiceModel.ServiceContract(Namespace="http://asp.net/ApplicationServices/v200")</AttributeName>
    </Attribute>
    <Attribute>
      <AttributeName>System.ServiceModel.ServiceKnownType("GetKnownTypes", typeof(System.Web.ApplicationServices.KnownTypesProvider))</AttributeName>
    </Attribute>
  </Attributes>
  <Docs>
    <summary>Разрешает доступ к профилям пользователей ASP.NET посредством веб-службы.</summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 <xref:System.Web.ApplicationServices.ProfileService> Класс позволяет получать и задавать свойства профиля пользователя через службу Windows Communication Foundation (WCF). Вы можете сохранить пользовательские сведения для пользователей с помощью свойства профиля. Сведения о свойствах профиля см. в разделе [Общие сведения о свойствах профиля ASP.NET](https://msdn.microsoft.com/library/89439440-92ea-48c3-a4bd-dea40307899d).  
  
 <xref:System.Web.ApplicationServices.ProfileService> Класс содержит следующие методы, которые должны быть доступны только через службы WCF:  
  
-   <xref:System.Web.ApplicationServices.ProfileService.GetPropertiesForCurrentUser%2A>  
  
-   <xref:System.Web.ApplicationServices.ProfileService.GetAllPropertiesForCurrentUser%2A>  
  
-   <xref:System.Web.ApplicationServices.ProfileService.SetPropertiesForCurrentUser%2A>  
  
-   <xref:System.Web.ApplicationServices.ProfileService.GetPropertiesMetadata%2A>  
  
 Вызов этих методов, необходимо включить службы веб-сервера и затем подключить клиентское приложение WCF-совместимых веб-службе. Сведения о настройке службы профилей см. в разделе [как: Включить службы WCF](https://msdn.microsoft.com/library/46a16bc2-8c01-4eed-aed9-2286c85f094a).  
  
 <xref:System.Web.ApplicationServices.ProfileService.ValidatingProperties> Событие возникает при задании свойств профиля пользователя. Можно создать обработчик событий для <xref:System.Web.ApplicationServices.ProfileService.ValidatingProperties> событие для проверки значений свойств или динамически изменять их значения.  
  
 Пример использования службы профилей WCF из консольного приложения, см. в разделе [Пошаговое руководство: Использование служб приложений ASP.NET](https://msdn.microsoft.com/library/f3f394f0-20d6-4361-aa8f-4b21bf4933eb).  
  
 ]]></format>
    </remarks>
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public ProfileService ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.ApplicationServices.ProfileService.#ctor" />
      <MemberSignature Language="VB.NET" Value="Public Sub New ()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; ProfileService();" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web.Extensions</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters />
      <Docs>
        <summary>Инициализирует новый экземпляр класса <see cref="T:System.Web.ApplicationServices.ProfileService" />.</summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="GetAllPropertiesForCurrentUser">
      <MemberSignature Language="C#" Value="public System.Collections.Generic.Dictionary&lt;string,object&gt; GetAllPropertiesForCurrentUser (bool authenticatedUserOnly);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Collections.Generic.Dictionary`2&lt;string, object&gt; GetAllPropertiesForCurrentUser(bool authenticatedUserOnly) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.ApplicationServices.ProfileService.GetAllPropertiesForCurrentUser(System.Boolean)" />
      <MemberSignature Language="VB.NET" Value="Public Function GetAllPropertiesForCurrentUser (authenticatedUserOnly As Boolean) As Dictionary(Of String, Object)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Collections::Generic::Dictionary&lt;System::String ^, System::Object ^&gt; ^ GetAllPropertiesForCurrentUser(bool authenticatedUserOnly);" />
      <MemberSignature Language="F#" Value="member this.GetAllPropertiesForCurrentUser : bool -&gt; System.Collections.Generic.Dictionary&lt;string, obj&gt;" Usage="profileService.GetAllPropertiesForCurrentUser authenticatedUserOnly" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web.Extensions</AssemblyName>
        <AssemblyVersion>3.5.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute>
          <AttributeName>System.ServiceModel.OperationContract</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Collections.Generic.Dictionary&lt;System.String,System.Object&gt;</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="authenticatedUserOnly" Type="System.Boolean" />
      </Parameters>
      <Docs>
        <param name="authenticatedUserOnly">Значение, позволяющее определить, присущи ли возвращенные свойства только пользователям, прошедшим проверку подлинности.</param>
        <summary>Возвращает все свойства и значения профиля, доступные службе профилей для текущего пользователя.</summary>
        <returns>Свойства и значения профиля.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Используйте <xref:System.Web.ApplicationServices.ProfileService.GetAllPropertiesForCurrentUser%2A> метод для извлечения свойств профиля пользователя через один вызов веб-службы. Например можно вызвать этот метод и затем сохранять свойства профиля в клиентском приложении и получения значений, при необходимости. <xref:System.Web.ApplicationServices.ProfileService.GetAllPropertiesForCurrentUser%2A> Метод возвращает значения только для свойства профиля, которые были настроены, чтобы получить доступ через веб-службы. Определить свойство профиля, которая может осуществляться через веб-службы путем задания либо <xref:System.Web.Configuration.ScriptingProfileServiceSection.ReadAccessProperties%2A> свойство или <xref:System.Web.Configuration.ScriptingProfileServiceSection.WriteAccessProperties%2A> свойства `true`.  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="GetPropertiesForCurrentUser">
      <MemberSignature Language="C#" Value="public System.Collections.Generic.Dictionary&lt;string,object&gt; GetPropertiesForCurrentUser (System.Collections.Generic.IEnumerable&lt;string&gt; properties, bool authenticatedUserOnly);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Collections.Generic.Dictionary`2&lt;string, object&gt; GetPropertiesForCurrentUser(class System.Collections.Generic.IEnumerable`1&lt;string&gt; properties, bool authenticatedUserOnly) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.ApplicationServices.ProfileService.GetPropertiesForCurrentUser(System.Collections.Generic.IEnumerable{System.String},System.Boolean)" />
      <MemberSignature Language="VB.NET" Value="Public Function GetPropertiesForCurrentUser (properties As IEnumerable(Of String), authenticatedUserOnly As Boolean) As Dictionary(Of String, Object)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Collections::Generic::Dictionary&lt;System::String ^, System::Object ^&gt; ^ GetPropertiesForCurrentUser(System::Collections::Generic::IEnumerable&lt;System::String ^&gt; ^ properties, bool authenticatedUserOnly);" />
      <MemberSignature Language="F#" Value="member this.GetPropertiesForCurrentUser : seq&lt;string&gt; * bool -&gt; System.Collections.Generic.Dictionary&lt;string, obj&gt;" Usage="profileService.GetPropertiesForCurrentUser (properties, authenticatedUserOnly)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web.Extensions</AssemblyName>
        <AssemblyVersion>3.5.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute>
          <AttributeName>System.ServiceModel.OperationContract</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Collections.Generic.Dictionary&lt;System.String,System.Object&gt;</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="properties" Type="System.Collections.Generic.IEnumerable&lt;System.String&gt;" />
        <Parameter Name="authenticatedUserOnly" Type="System.Boolean" />
      </Parameters>
      <Docs>
        <param name="properties">Набор строковых значений, содержащий имена свойств профиля, которые необходимо извлечь.</param>
        <param name="authenticatedUserOnly">Значение, позволяющее определить, присущи ли возвращенные свойства только пользователям, прошедшим проверку подлинности.</param>
        <summary>Возвращает заданные свойства и значения профиля для текущего пользователя.</summary>
        <returns>Сведения о свойствах профиля и его значения.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Чтобы получить значения свойств специально предназначенную для текущих пользователей, используйте <xref:System.Web.ApplicationServices.ProfileService.GetPropertiesForCurrentUser%2A> метод, чтобы задать свойства профиля, извлекаемые. <xref:System.Web.ApplicationServices.ProfileService.GetPropertiesForCurrentUser%2A> Метод возвращает значения только для свойств профиля, которые настроены для доступа через веб-службы. Настройте свойства профиля для доступа через веб-службы, задав <xref:System.Web.Configuration.ScriptingProfileServiceSection.ReadAccessProperties%2A> свойство или <xref:System.Web.Configuration.ScriptingProfileServiceSection.WriteAccessProperties%2A> свойства `true`.  
  
 ]]></format>
        </remarks>
        <exception cref="T:System.ArgumentNullException">Параметр <paramref name="properties" /> или элемент коллекции <paramref name="properties" /> равен <see langword="null" />.</exception>
      </Docs>
    </Member>
    <Member MemberName="GetPropertiesMetadata">
      <MemberSignature Language="C#" Value="public System.Web.ApplicationServices.ProfilePropertyMetadata[] GetPropertiesMetadata ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Web.ApplicationServices.ProfilePropertyMetadata[] GetPropertiesMetadata() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.ApplicationServices.ProfileService.GetPropertiesMetadata" />
      <MemberSignature Language="VB.NET" Value="Public Function GetPropertiesMetadata () As ProfilePropertyMetadata()" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; cli::array &lt;System::Web::ApplicationServices::ProfilePropertyMetadata ^&gt; ^ GetPropertiesMetadata();" />
      <MemberSignature Language="F#" Value="member this.GetPropertiesMetadata : unit -&gt; System.Web.ApplicationServices.ProfilePropertyMetadata[]" Usage="profileService.GetPropertiesMetadata " />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web.Extensions</AssemblyName>
        <AssemblyVersion>3.5.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute>
          <AttributeName>System.ServiceModel.OperationContract</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Web.ApplicationServices.ProfilePropertyMetadata[]</ReturnType>
      </ReturnValue>
      <Parameters />
      <Docs>
        <summary>Возвращает сведения о свойствах профиля, доступных посредством службы профилей.</summary>
        <returns>Массив объектов <see cref="T:System.Web.ApplicationServices.ProfilePropertyMetadata" />, в котором содержатся сведения о свойствах профиля.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Используйте <xref:System.Web.ApplicationServices.ProfileService.GetPropertiesMetadata%2A> метод для извлечения сведений о свойствах профиля из клиентского приложения, которая совместима с Windows Communication Framework (WCF). Можно получить следующие сведения:  
  
-   Имя и тип свойства.  
  
-   Ли они доступны только для чтения.  
  
-   Ли они обращаются пользователи, которые не прошли проверку подлинности.  
  
-   Значения по умолчанию для свойств.  
  
 После получения этих значений, клиентское приложение может предпринять соответствующие действия, например не пытаетесь задать свойство только для чтения. Текущий пользователь не имеет должны проходить проверку подлинности, чтобы выполнить вызов <xref:System.Web.ApplicationServices.ProfileService.GetPropertiesMetadata%2A> метод, так как свойства применяются ко всем пользователям.  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="SetPropertiesForCurrentUser">
      <MemberSignature Language="C#" Value="public System.Collections.ObjectModel.Collection&lt;string&gt; SetPropertiesForCurrentUser (System.Collections.Generic.IDictionary&lt;string,object&gt; values, bool authenticatedUserOnly);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig instance class System.Collections.ObjectModel.Collection`1&lt;string&gt; SetPropertiesForCurrentUser(class System.Collections.Generic.IDictionary`2&lt;string, object&gt; values, bool authenticatedUserOnly) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.Web.ApplicationServices.ProfileService.SetPropertiesForCurrentUser(System.Collections.Generic.IDictionary{System.String,System.Object},System.Boolean)" />
      <MemberSignature Language="VB.NET" Value="Public Function SetPropertiesForCurrentUser (values As IDictionary(Of String, Object), authenticatedUserOnly As Boolean) As Collection(Of String)" />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; System::Collections::ObjectModel::Collection&lt;System::String ^&gt; ^ SetPropertiesForCurrentUser(System::Collections::Generic::IDictionary&lt;System::String ^, System::Object ^&gt; ^ values, bool authenticatedUserOnly);" />
      <MemberSignature Language="F#" Value="member this.SetPropertiesForCurrentUser : System.Collections.Generic.IDictionary&lt;string, obj&gt; * bool -&gt; System.Collections.ObjectModel.Collection&lt;string&gt;" Usage="profileService.SetPropertiesForCurrentUser (values, authenticatedUserOnly)" />
      <MemberType>Method</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web.Extensions</AssemblyName>
        <AssemblyVersion>3.5.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Attributes>
        <Attribute>
          <AttributeName>System.ServiceModel.OperationContract</AttributeName>
        </Attribute>
      </Attributes>
      <ReturnValue>
        <ReturnType>System.Collections.ObjectModel.Collection&lt;System.String&gt;</ReturnType>
      </ReturnValue>
      <Parameters>
        <Parameter Name="values" Type="System.Collections.Generic.IDictionary&lt;System.String,System.Object&gt;" />
        <Parameter Name="authenticatedUserOnly" Type="System.Boolean" />
      </Parameters>
      <Docs>
        <param name="values">Набор, содержащий имена и значения свойств профиля, которые необходимо задать.</param>
        <param name="authenticatedUserOnly">Значение, позволяющее определить, присущи ли установленные свойства только пользователям, прошедшим проверку подлинности.</param>
        <summary>Задает значения указанных свойств в профиле пользователя.</summary>
        <returns>Свойства, которые не были установлены для профиля пользователя, если таковые имеются.</returns>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Использовании <xref:System.Web.ApplicationServices.ProfileService.SetPropertiesForCurrentUser%2A> метод для задания свойств профиля пользователя из приложения, которая совместима с Windows Communication Foundation (WCF). <xref:System.Web.ApplicationServices.ProfileService.SetPropertiesForCurrentUser%2A> Метод возвращает все значения, которые не заданы, которые могут быть по одной из следующих причин:  
  
-   Указанного свойства профиля доступно только для чтения ( <xref:System.Web.Configuration.ScriptingProfileServiceSection.WriteAccessProperties%2A> для указанного свойства профиля не задано значение `true`).  
  
-   Профиль пользователя не имеет свойство профиля с соответствующим именем.  
  
-   Не удалось выполнить проверку значения.  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
    <Member MemberName="ValidatingProperties">
      <MemberSignature Language="C#" Value="public static event EventHandler&lt;System.Web.ApplicationServices.ValidatingPropertiesEventArgs&gt; ValidatingProperties;" />
      <MemberSignature Language="ILAsm" Value=".event class System.EventHandler`1&lt;class System.Web.ApplicationServices.ValidatingPropertiesEventArgs&gt; ValidatingProperties" />
      <MemberSignature Language="DocId" Value="E:System.Web.ApplicationServices.ProfileService.ValidatingProperties" />
      <MemberSignature Language="VB.NET" Value="Public Shared Custom Event ValidatingProperties As EventHandler(Of ValidatingPropertiesEventArgs) " />
      <MemberSignature Language="C++ CLI" Value="public:&#xA; static event EventHandler&lt;System::Web::ApplicationServices::ValidatingPropertiesEventArgs ^&gt; ^ ValidatingProperties;" />
      <MemberSignature Language="F#" Value="member this.ValidatingProperties : EventHandler&lt;System.Web.ApplicationServices.ValidatingPropertiesEventArgs&gt; " Usage="member this.ValidatingProperties : System.EventHandler&lt;System.Web.ApplicationServices.ValidatingPropertiesEventArgs&gt; " />
      <MemberType>Event</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.Web.Extensions</AssemblyName>
        <AssemblyVersion>3.5.0.0</AssemblyVersion>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.EventHandler&lt;System.Web.ApplicationServices.ValidatingPropertiesEventArgs&gt;</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>Происходит при задании свойств профиля пользователя.</summary>
        <remarks>
          <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Можно создать обработчик событий для <xref:System.Web.ApplicationServices.ProfileService.ValidatingProperties> событие для проверки значений свойств или динамически изменять их значения. <xref:System.Web.ApplicationServices.ProfileService.ValidatingProperties> События при <xref:System.Web.ApplicationServices.ProfileService.SetPropertiesForCurrentUser%2A> вызывается метод. Если значение для свойства не проходит проверку, добавьте это свойство для <xref:System.Web.ApplicationServices.ValidatingPropertiesEventArgs.FailedProperties%2A> коллекцию <xref:System.Web.ApplicationServices.ValidatingPropertiesEventArgs> класса. Все свойства, которые находятся в <xref:System.Web.ApplicationServices.ValidatingPropertiesEventArgs.FailedProperties%2A> коллекции не будут сохранены в профиль пользователя.  
  
 Можно добавить и зарегистрировать обработчик событий в файле Global.asax.  
  
   
  
## Examples  
 В примере показан обработчик событий для <xref:System.Web.ApplicationServices.ProfileService.ValidatingProperties> событий. Если значение, передаваемое `FirstName` свойство пусто или `null`, `FirstName` свойство добавляется к <xref:System.Web.ApplicationServices.ValidatingPropertiesEventArgs.FailedProperties%2A> коллекции.  
  
 [!code-csharp[System.Web.ApplicationServices.ProfileService#1](~/samples/snippets/csharp/VS_Snippets_WebNet/System.Web.ApplicationServices.ProfileService/cs/Global.asax#1)]
 [!code-vb[System.Web.ApplicationServices.ProfileService#1](~/samples/snippets/visualbasic/VS_Snippets_WebNet/System.Web.ApplicationServices.ProfileService/vb/Global.asax#1)]  
  
 ]]></format>
        </remarks>
      </Docs>
    </Member>
  </Members>
</Type>